<div class="container" ng-show="$ctrl.user">
    <div class="jumbotron text-center">
        <h1>{{$ctrl.user.displayName}}</h1>
        <p>How is your day, today?</p>
		<mood-meter current="$ctrl.user.currentMood"
					on-change="$ctrl.moodChanged(value)"></mood-meter>

    </div>

	<div ng-show="$ctrl.habitsReceived[0]">
		<h3>Received requests <small>[{{$ctrl.habitsReceived.length}}]</small></h3>

		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>type</th>
					<th>summary</th>
					<th>requested by</th>
					<th>actions</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="r in $ctrl.habitsReceived">
					<td>{{r.type | marshallValues}}</td>
					<td>{{r.description}}</td>
					<td>{{r.sender.displayName}}</td>
					<td class="pull-right">
						<div ng-click="$ctrl.acceptChallenge(r)"
							 class="btn btn-primary">Accept</div>
						<div class="btn btn-danger">Ignore</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div ng-show="$ctrl.habitsAccepted[0]">
		<h3>Team's active habits <small>[{{$ctrl.habitsAccepted.length}}]</small></h3>

		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>type</th>
					<th>summary</th>
					<th>sent to</th>
					<th>actions</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="(key, r) in $ctrl.habitsAccepted">
					<td>{{r.type | marshallValues}}</td>
					<td>{{r.description}}</td>
					<td>{{r.recipient.displayName}}</td>
					<td class="pull-right">
						<div ng-click="$ctrl.thankYou(r)"
							 class="btn btn-success">
							Thank you
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div ng-show="$ctrl.yourCurrentHabits[0]">
		<h3>Your active habits <small>[{{$ctrl.yourCurrentHabits.length}}]</small></h3>

		<table class="table table-striped table-hover">
			<thead>
			<tr>
				<th>type</th>
				<th>summary</th>
				<th>requested by</th>
				<th>points</th>
				<th>actions</th>
			</tr>
			</thead>
			<tbody>
			<tr ng-repeat="r in $ctrl.yourCurrentHabits">
				<td>{{r.type | marshallValues}}</td>
				<td>{{r.description}}</td>
				<td>{{r.sender.displayName}}</td>
				<td>{{r.points}}</td>
				<td class="pull-right">
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</div>

<!--<h3>Your active habits</h3>-->
<!--<h3>Team's active habits</h3>-->
<!--<h3>Received requests</h3>-->
<!--<h3>Pending requests</h3> only on public profile-->