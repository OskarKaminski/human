<div class="container" ng-show="$ctrl.user">
    <div class="jumbotron text-center">
        <h1>{{$ctrl.user.displayName}}</h1>
        <p>How is your day, today?</p>
		<mood-meter current="$ctrl.user.currentMood"
					on-change="$ctrl.moodChanged(value)"></mood-meter>

    </div>

    <h3>Received habit requests</h3>

    <table class="table table-striped table-hover">
    	<thead>
    		<tr>
    			<th>type</th>
    			<th>summary</th>
    			<th>requested by</th>
    			<th>actions</th>
    		</tr>
    	</thead>
    	<tbody>
    		<tr ng-repeat="r in $ctrl.habitsReceived">
    			<td>{{r.type | marshallValues}}</td>
    			<td>{{r.description}}</td>
    			<td>{{r.sender.displayName}}</td>
				<td class="pull-right">
					<div ng-click="$ctrl.acceptChallenge(r)"
						 class="btn btn-primary">Accept</div>
					<div class="btn btn-danger">Ignore</div>
				</td>
    		</tr>
    	</tbody>
    </table>

	<h3>Requested habit requests</h3>

    <table class="table table-striped table-hover">
    	<thead>
    		<tr>
    			<th>type</th>
    			<th>summary</th>
    			<th>sent to</th>
    			<th>actions</th>
    		</tr>
    	</thead>
    	<tbody>
    		<tr ng-repeat="(key, r) in $ctrl.habitsSent">
    			<td>{{r.type | marshallValues}}</td>
    			<td>{{r.description}}</td>
    			<td>{{r.recipient.displayName}}</td>
    			<td class="pull-right">
					<div class="btn btn-danger">Cancel</div>
				</td>
    		</tr>
    	</tbody>
    </table>

	<h3>Your current habits</h3>

	<table class="table table-striped table-hover">
		<thead>
		<tr>
			<th>type</th>
			<th>summary</th>
			<th>requested by</th>
			<th>actions</th>
		</tr>
		</thead>
		<tbody>
		<tr ng-repeat="r in $ctrl.yourCurrentHabits">
			<td>{{r.type | marshallValues}}</td>
			<td>{{r.description}}</td>
			<td>{{r.sender.displayName}}</td>
			<td class="pull-right">
			</td>
		</tr>
		</tbody>
	</table>
</div>